---
description: 
globs: 
alwaysApply: false
---
# API端点

DiFlow使用Nuxt的服务器API路由功能实现后端接口。API端点位于`server/api/`目录下。

## 认证API

### 用户注册
- **端点**: `/api/auth/register`
- **方法**: `POST`
- **文件**: [server/api/auth/register.post.ts](mdc:server/api/auth/register.post.ts)
- **功能**: 注册新用户
- **请求体**:
  ```json
  {
    "username": "string",
    "password": "string"
  }
  ```

### 用户登录
- **端点**: `/api/auth/login`
- **方法**: `POST`
- **文件**: [server/api/auth/login.post.ts](mdc:server/api/auth/login.post.ts)
- **功能**: 用户登录并获取JWT令牌
- **请求体**:
  ```json
  {
    "username": "string",
    "password": "string"
  }
  ```

## 聊天API

### 聊天相关接口
- **基础路径**: `/api/chat`
- **目录**: [server/api/chat](mdc:server/api/chat)
- **功能**: 创建、获取、更新和删除聊天记录

## API请求示例

使用Nuxt的`$fetch`API发送请求:

```js
// 登录示例
const { token, user } = await $fetch('/api/auth/login', {
  method: 'POST',
  body: {
    username: 'testuser',
    password: 'password123'
  }
})
```

